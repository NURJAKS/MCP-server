# –ú–∏–≥—Ä–∞—Ü–∏—è —Å OpenAI –Ω–∞ OpenRouter —Å –º–æ–¥–µ–ª—å—é DeepSeek Free

## ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–µ–Ω OpenAI API –Ω–∞ OpenRouter

### üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

#### 1. **Package.json**
```diff
- "openai": "^4.48.0",
+ "openrouter-client": "^1.5.1",
```

#### 2. **src/core/search.ts**
```diff
- import OpenAI from 'openai'
+ import OpenRouter from 'openrouter-client'

- private openai: OpenAI | null = null
+ private openrouter: OpenRouter | null = null

- const apiKey = process.env.OPENAI_API_KEY
+ const apiKey = process.env.OPENROUTER_API_KEY

- this.openai = new OpenAI({
+ this.openrouter = new OpenRouter({
+   baseURL: 'https://openrouter.ai/api/v1',
+ })

- model: 'gpt-3.5-turbo'
+ model: 'deepseek/deepseek-coder:free'

- model: 'gpt-4'
+ model: 'deepseek/deepseek-coder:free'
```

#### 3. **env.example**
```diff
- # OpenAI Configuration
- OPENAI_API_KEY=your_openai_api_key_here
+ # OpenRouter Configuration (–¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞)
+ OPENROUTER_API_KEY=your_openrouter_api_key_here

- OPENAI_RATE_LIMIT=100
+ OPENROUTER_RATE_LIMIT=100
```

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∑–∞–º–µ–Ω—ã

#### **–≠–∫–æ–Ω–æ–º–∏—è —Å—Ä–µ–¥—Å—Ç–≤**
- **OpenAI GPT-4**: ~$0.03/1K tokens
- **OpenRouter DeepSeek Free**: **–ë–ï–°–ü–õ–ê–¢–ù–û** (–¥–æ –ª–∏–º–∏—Ç–æ–≤)

#### **–ö–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏**
- **DeepSeek Coder**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –∫–æ–¥–µ
- **–õ—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç**: –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞**: –î–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á

#### **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API**
- **–¢–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: `chat.completions.create()`
- **–¢–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**: `messages`, `max_tokens`, `temperature`
- **–ü—Ä–æ—Å—Ç–∞—è –∑–∞–º–µ–Ω–∞**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### üìç **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤—Å–µ—Ö API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:**

#### üîß **SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤
- **–§–∞–π–ª**: `src/core/database.ts`
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Ñ–∞–π–ª–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü
- **–¢–∞–±–ª–∏—Ü—ã**: `repositories`, `documentation`, `indexed_files`, `indexed_pages`

#### üîß **GitHub API** - –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤  
- **–§–∞–π–ª**: `src/core/indexer.ts` (—Å—Ç—Ä–æ–∫–∞ 1)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- **API**: `@octokit/rest` –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

#### üîß **Cheerio** - –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML
- **–§–∞–π–ª**: `src/core/indexer.ts` (—Å—Ç—Ä–æ–∫–∏ 542-544, 595-598)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü–∞—Ä—Å–∏–Ω–≥ HTML –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**: `cheerio` –≤ package.json

#### üîß **OpenRouter API** - –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ (–ó–ê–ú–ï–ù–ï–ù)
- **–§–∞–π–ª**: `src/core/search.ts` (—Å—Ç—Ä–æ–∫–∞ 2)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ –≥–ª—É–±–æ–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**: `openrouter-client` –≤ package.json
- **–ú–æ–¥–µ–ª—å**: `deepseek/deepseek-coder:free`

#### üîß **Serper API** - –¥–ª—è –≤–µ–±-–ø–æ–∏—Å–∫–∞
- **–§–∞–π–ª**: `src/core/search.ts` (—Å—Ç—Ä–æ–∫–∏ 254-274)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –í–µ–±-–ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ Google
- **URL**: `https://google.serper.dev/search`

### üöÄ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenRouter**

#### 1. **–ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞**
```bash
# 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://openrouter.ai
# 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API Keys
# 3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
# 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ .env —Ñ–∞–π–ª
```

#### 2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```env
# OpenRouter Configuration
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_RATE_LIMIT=100
```

#### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
node test-real-functionality.js
```

### üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

| –§—É–Ω–∫—Ü–∏—è | OpenAI GPT-4 | OpenRouter DeepSeek Free |
|---------|--------------|-------------------------|
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | ~$0.03/1K tokens | **–ë–ï–°–ü–õ–ê–¢–ù–û** |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ~2-5 —Å–µ–∫ | ~1-3 —Å–µ–∫ |
| **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** | –û—Ç–ª–∏—á–Ω–æ | **–û—Ç–ª–∏—á–Ω–æ** |
| **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** | –û—Ç–ª–∏—á–Ω–æ | **–û—Ç–ª–∏—á–Ω–æ** |
| **–õ–∏–º–∏—Ç—ã** | –í—ã—Å–æ–∫–∏–µ | –£–º–µ—Ä–µ–Ω–Ω—ã–µ |

### üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏**

‚úÖ **–£—Å–ø–µ—à–Ω–æ –∑–∞–º–µ–Ω–µ–Ω OpenAI –Ω–∞ OpenRouter**
‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å DeepSeek Coder Free**
‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
‚úÖ **–°–Ω–∏–∂–µ–Ω—ã –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ API**
‚úÖ **–£–ª—É—á—à–µ–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è –∫–æ–¥–∞**

### üìã **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

```javascript
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenRouter –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
await search_codebase({
  query: "authentication function",
  repositories: ["owner/repo"]
})

// –ü—Ä–∏–º–µ—Ä –≥–ª—É–±–æ–∫–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
await nia_deep_research_agent({
  query: "React hooks best practices",
  output_format: "comparison table"
})
```

**–í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –º–æ–¥–µ–ª—å DeepSeek Coder —á–µ—Ä–µ–∑ OpenRouter!** 